<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 1: US & UK Court Systems | Legal English</title>
    <meta name="description" content="Module 1 - Understanding court systems in the United States and United Kingdom">
    <link rel="stylesheet" href="../../../../css/styles.css">
    <style>
        /* ============================================
           ESTILOS DEL M√ìDULO INTERACTIVO
           ============================================ */

        .module-layout {
            display: grid;
            grid-template-columns: 350px 1fr;
            gap: 0;
            min-height: calc(100vh - 80px);
            max-width: 1600px;
            margin: 0 auto;
        }

        /* Video Section */
        .video-section {
            background: #000;
            position: sticky;
            top: 80px;
            height: calc(100vh - 80px);
            display: flex;
            flex-direction: column;
        }

        .video-container {
            flex: 1;
            position: relative;
            background: #000;
        }

        .video-container iframe,
        .video-container video {
            width: 100%;
            height: 100%;
            border: none;
        }

        .video-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--primary) 0%, #2d4942 100%);
            color: var(--white);
            flex-direction: column;
            gap: 20px;
            padding: 40px;
            text-align: center;
        }

        .video-placeholder .icon {
            font-size: 5rem;
            opacity: 0.5;
        }

        .video-controls {
            background: var(--primary);
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            border-top: 2px solid var(--secondary);
        }

        .video-controls .btn-control {
            background: var(--secondary);
            color: var(--primary);
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .video-controls .btn-control:hover {
            transform: scale(1.05);
        }

        .time-markers {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            flex: 1;
        }

        .time-marker {
            background: rgba(255, 255, 255, 0.1);
            color: var(--white);
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid transparent;
        }

        .time-marker:hover {
            background: var(--secondary);
            color: var(--primary);
        }

        .time-marker.active {
            border-color: var(--secondary);
            background: rgba(207, 168, 146, 0.3);
        }

        /* Content Section */
        .content-section {
            background: var(--light-bg);
            overflow-y: auto;
            height: calc(100vh - 80px);
            padding: 30px;
        }

        .module-header {
            background: var(--white);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            box-shadow: var(--shadow);
            border-left: 5px solid var(--secondary);
        }

        .module-header h1 {
            color: var(--primary);
            font-size: 1.8rem;
            margin-bottom: 10px;
        }

        .module-meta {
            display: flex;
            gap: 20px;
            color: var(--text-light);
            font-size: 0.9rem;
            flex-wrap: wrap;
        }

        .module-meta span {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        /* Content Blocks */
        .content-block {
            background: var(--white);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            transition: all 0.3s;
        }

        .content-block.highlight {
            border-left: 5px solid var(--secondary);
        }

        .content-block h2 {
            color: var(--primary);
            font-size: 1.4rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .content-block h3 {
            color: var(--primary);
            font-size: 1.2rem;
            margin: 20px 0 10px;
        }

        .content-block p {
            color: var(--text-dark);
            line-height: 1.8;
            margin-bottom: 15px;
        }

        .content-block ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .content-block li {
            margin-bottom: 8px;
            line-height: 1.6;
        }

        .content-block strong {
            color: var(--primary);
        }

        .pause-indicator {
            background: linear-gradient(135deg, #ff6b6b, #ee5a5a);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            margin: 20px 0;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .pause-indicator:hover {
            transform: scale(1.02);
        }

        .pause-indicator .icon {
            font-size: 1.5rem;
        }

        .pause-indicator .text {
            flex: 1;
        }

        .pause-indicator .text strong {
            display: block;
            margin-bottom: 3px;
            color: white;
        }

        /* Exercise Blocks */
        .exercise-block {
            background: var(--white);
            border: 2px solid var(--secondary);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
        }

        .exercise-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--light-bg);
        }

        .exercise-number {
            background: var(--secondary);
            color: var(--primary);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .exercise-title {
            flex: 1;
        }

        .exercise-title h3 {
            color: var(--primary);
            margin: 0 0 5px;
        }

        .exercise-title span {
            color: var(--text-light);
            font-size: 0.85rem;
        }

        .exercise-content {
            margin-bottom: 20px;
        }

        /* Options List */
        .options-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .option-item {
            background: var(--light-bg);
            border: 2px solid transparent;
            border-radius: 10px;
            padding: 15px 20px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .option-item:hover {
            border-color: var(--secondary);
            transform: translateX(5px);
        }

        .option-item.selected {
            border-color: var(--primary);
            background: rgba(27, 44, 39, 0.05);
        }

        .option-item.correct {
            border-color: #28a745;
            background: rgba(40, 167, 69, 0.1);
        }

        .option-item.incorrect {
            border-color: #dc3545;
            background: rgba(220, 53, 69, 0.1);
        }

        .option-letter {
            background: var(--primary);
            color: var(--white);
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.9rem;
            flex-shrink: 0;
        }

        .option-item.correct .option-letter {
            background: #28a745;
        }

        .option-item.incorrect .option-letter {
            background: #dc3545;
        }

        /* Fill in the blank */
        .fill-blank-input {
            border: 2px solid var(--secondary);
            border-radius: 5px;
            padding: 8px 15px;
            font-size: 1rem;
            min-width: 150px;
            transition: all 0.3s;
        }

        .fill-blank-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(27, 44, 39, 0.1);
        }

        .fill-blank-input.correct {
            border-color: #28a745;
            background: rgba(40, 167, 69, 0.1);
        }

        .fill-blank-input.incorrect {
            border-color: #dc3545;
            background: rgba(220, 53, 69, 0.1);
        }

        /* Exercise Actions */
        .exercise-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .btn-check {
            background: var(--primary);
            color: var(--white);
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-check:hover {
            background: #2d4942;
            transform: translateY(-2px);
        }

        .btn-hint {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-hint:hover {
            background: var(--light-bg);
        }

        .feedback-message {
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            display: none;
        }

        .feedback-message.success {
            background: rgba(40, 167, 69, 0.1);
            border: 1px solid #28a745;
            color: #155724;
            display: block;
        }

        .feedback-message.error {
            background: rgba(220, 53, 69, 0.1);
            border: 1px solid #dc3545;
            color: #721c24;
            display: block;
        }

        .feedback-message.hint {
            background: rgba(255, 193, 7, 0.1);
            border: 1px solid #ffc107;
            color: #856404;
            display: block;
        }

        /* Vocabulary Box */
        .vocabulary-box {
            background: linear-gradient(135deg, var(--light-bg), #e8e8e8);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
        }

        .vocabulary-box h4 {
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .vocab-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .vocab-item {
            background: var(--white);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid var(--secondary);
        }

        .vocab-item .term {
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 5px;
            font-size: 1.1rem;
        }

        .vocab-item .definition {
            font-size: 0.9rem;
            color: var(--text-dark);
            line-height: 1.5;
        }

        .vocab-item .spanish {
            font-size: 0.85rem;
            color: var(--text-light);
            font-style: italic;
            margin-top: 5px;
        }

        /* Comparison Table */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: var(--white);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .comparison-table th {
            background: var(--primary);
            color: var(--white);
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        .comparison-table td {
            padding: 12px 15px;
            border-bottom: 1px solid var(--light-bg);
        }

        .comparison-table tr:last-child td {
            border-bottom: none;
        }

        .comparison-table tr:hover {
            background: rgba(207, 168, 146, 0.05);
        }

        /* Document Display */
        .document-display {
            background: var(--white);
            border: 2px solid var(--primary);
            border-radius: 10px;
            padding: 30px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
            line-height: 1.8;
        }

        .document-display .doc-header {
            text-align: center;
            font-weight: 700;
            font-size: 1.1rem;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--primary);
        }

        .document-display .doc-to {
            margin: 15px 0;
        }

        .document-display .doc-section {
            margin: 15px 0;
        }

        /* Progress Bar */
        .progress-bar {
            background: var(--light-bg);
            height: 8px;
            border-radius: 4px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, var(--secondary), var(--primary));
            height: 100%;
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        /* Module Navigation */
        .module-navigation {
            display: flex;
            justify-content: space-between;
            padding: 20px 0;
            margin-top: 30px;
            border-top: 2px solid var(--light-bg);
            gap: 10px;
        }

        .nav-btn {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px 25px;
            background: var(--white);
            border: 2px solid var(--primary);
            border-radius: 10px;
            text-decoration: none;
            color: var(--primary);
            font-weight: 600;
            transition: all 0.3s;
        }

        .nav-btn:hover {
            background: var(--primary);
            color: var(--white);
        }

        .nav-btn.disabled {
            opacity: 0.5;
            pointer-events: none;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .module-layout {
                grid-template-columns: 1fr;
            }

            .video-section {
                position: relative;
                height: 50vh;
                top: 0;
            }

            .content-section {
                height: auto;
            }
        }

        @media (max-width: 768px) {
            .video-section {
                height: 40vh;
            }

            .content-section {
                padding: 20px;
            }

            .module-header h1 {
                font-size: 1.4rem;
            }

            .module-meta {
                flex-direction: column;
                gap: 10px;
            }

            .vocab-grid {
                grid-template-columns: 1fr;
            }

            .exercise-actions {
                flex-direction: column;
            }

            .comparison-table {
                font-size: 0.85rem;
            }

            .comparison-table th,
            .comparison-table td {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="nav-container">
            <div class="logo-container">
                <a href="../../../../index.html">
                    <img src="../../../../images/logo.png" alt="Cursos Jur√≠dicos Emp√≠rica" class="logo-img" onerror="this.style.display='none'">
                </a>
                <div class="logo-text">
                    <h1>Legal English</h1>
                    <p>Anglo-American Law in Action</p>
                </div>
            </div>
            <button class="mobile-menu-toggle" onclick="toggleMenu()">‚ò∞</button>
            <ul class="nav-menu" id="navMenu">
                <li><a href="../../index.html">Curso</a></li>
                <li><a href="../index.html">M√≥dulos</a></li>
                <li><a href="../../../../contacto.html">Contacto</a></li>
            </ul>
        </div>
    </header>

    <!-- Main Layout -->
    <main class="module-layout">
        <!-- Video Section -->
        <section class="video-section">
            <div class="video-container">
                <!-- Placeholder - Replace with actual video embed -->
                <div class="video-placeholder" id="videoPlaceholder">
                    <span class="icon">üé¨</span>
                    <h2>Video Lecture</h2>
                    <p>Duration: 45-60 minutes</p>
                    <small>Configure your video ID in the code or contact jorge_clemente@empirica.mx</small>
                </div>
                <!-- YouTube Embed Example (uncomment and add video ID):
                <iframe
                    id="videoPlayer"
                    src="https://www.youtube.com/embed/VIDEO_ID?enablejsapi=1"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen>
                </iframe>
                -->
            </div>
            <div class="video-controls">
                <button class="btn-control" onclick="playPause()">‚èØ Play/Pause</button>
                <div class="time-markers">
                    <span class="time-marker" data-time="0" onclick="seekTo(0)">00:00 - Intro</span>
                    <span class="time-marker" data-time="120" onclick="seekTo(120)">02:00 - Vocabulary</span>
                    <span class="time-marker" data-time="240" onclick="seekTo(240)">04:00 - Exercise 1</span>
                    <span class="time-marker" data-time="720" onclick="seekTo(720)">12:00 - Reading</span>
                    <span class="time-marker" data-time="1620" onclick="seekTo(1620)">27:00 - Listening</span>
                    <span class="time-marker" data-time="2520" onclick="seekTo(2520)">42:00 - Application</span>
                </div>
            </div>
        </section>

        <!-- Content Section -->
        <section class="content-section">
            <!-- Progress Bar -->
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 0%"></div>
            </div>

            <!-- Module Header -->
            <div class="module-header">
                <h1>Module 1: US & UK Court Systems</h1>
                <div class="module-meta">
                    <span>üìö Part 1 of 15</span>
                    <span>‚è± 45-60 min</span>
                    <span>üìù 11 exercises</span>
                    <span>üéØ Level: B2</span>
                </div>
            </div>

            <!-- Learning Objectives -->
            <div class="content-block highlight">
                <h2>üéØ Learning Objectives</h2>
                <p>By the end of this module, you will be able to:</p>
                <ul>
                    <li>Explain the difference between federal and state courts in the US</li>
                    <li>Understand how Magistrates' Courts work in the UK</li>
                    <li>Read and analyze real court documents in English</li>
                    <li>Use essential legal vocabulary with confidence</li>
                    <li>Recognize key differences between common law and civil law systems</li>
                </ul>
            </div>

            <!-- KEY VOCABULARY -->
            <div class="vocabulary-box">
                <h4>üìö Key Vocabulary - Study These Terms</h4>
                <div class="vocab-grid">
                    <div class="vocab-item">
                        <div class="term">court</div>
                        <div class="definition">a place where legal cases are heard and decided</div>
                        <div class="spanish">tribunal, corte</div>
                    </div>
                    <div class="vocab-item">
                        <div class="term">judge</div>
                        <div class="definition">a person who makes decisions in a court of law</div>
                        <div class="spanish">juez</div>
                    </div>
                    <div class="vocab-item">
                        <div class="term">jurisdiction</div>
                        <div class="definition">the official power to make legal decisions</div>
                        <div class="spanish">jurisdicci√≥n, competencia</div>
                    </div>
                    <div class="vocab-item">
                        <div class="term">appeal</div>
                        <div class="definition">to ask a higher court to change a decision</div>
                        <div class="spanish">apelaci√≥n, apelar</div>
                    </div>
                    <div class="vocab-item">
                        <div class="term">magistrate</div>
                        <div class="definition">a judge in a lower court (UK)</div>
                        <div class="spanish">magistrado (juez menor)</div>
                    </div>
                    <div class="vocab-item">
                        <div class="term">trial</div>
                        <div class="definition">a formal examination of evidence in court</div>
                        <div class="spanish">juicio</div>
                    </div>
                    <div class="vocab-item">
                        <div class="term">jury</div>
                        <div class="definition">a group of citizens who decide facts in a trial</div>
                        <div class="spanish">jurado</div>
                    </div>
                    <div class="vocab-item">
                        <div class="term">defendant</div>
                        <div class="definition">a person accused of a crime or sued in court</div>
                        <div class="spanish">demandado, acusado</div>
                    </div>
                    <div class="vocab-item">
                        <div class="term">federal</div>
                        <div class="definition">relating to the national government (US)</div>
                        <div class="spanish">federal</div>
                    </div>
                    <div class="vocab-item">
                        <div class="term">state court</div>
                        <div class="definition">a court that deals with state laws (US)</div>
                        <div class="spanish">tribunal estatal</div>
                    </div>
                    <div class="vocab-item">
                        <div class="term">Supreme Court</div>
                        <div class="definition">the highest court in a legal system</div>
                        <div class="spanish">Corte Suprema</div>
                    </div>
                    <div class="vocab-item">
                        <div class="term">civil case</div>
                        <div class="definition">a legal dispute between individuals or companies</div>
                        <div class="spanish">caso civil</div>
                    </div>
                </div>
            </div>

            <!-- PART 1: VOCABULARY EXERCISES -->

            <!-- Pause Indicator -->
            <div class="pause-indicator" onclick="seekTo(240)">
                <span class="icon">‚è∏</span>
                <div class="text">
                    <strong>Pause the video here</strong>
                    <small>Complete Exercise 1 before continuing (04:00)</small>
                </div>
            </div>

            <!-- Exercise 1: Matching -->
            <div class="exercise-block" id="exercise1">
                <div class="exercise-header">
                    <div class="exercise-number">1</div>
                    <div class="exercise-title">
                        <h3>Matching Exercise</h3>
                        <span>Match the terms (1-10) with their definitions (a-j)</span>
                    </div>
                </div>
                <div class="exercise-content">
                    <p><strong>Click on pairs to match them:</strong></p>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                        <div>
                            <h4 style="color: var(--primary); margin-bottom: 10px;">Terms</h4>
                            <div class="option-item" data-match="d" onclick="selectMatch(this, 'exercise1')">
                                <span class="option-letter">1</span>
                                <span>jurisdiction</span>
                            </div>
                            <div class="option-item" data-match="g" onclick="selectMatch(this, 'exercise1')">
                                <span class="option-letter">2</span>
                                <span>appeal</span>
                            </div>
                            <div class="option-item" data-match="h" onclick="selectMatch(this, 'exercise1')">
                                <span class="option-letter">3</span>
                                <span>magistrate</span>
                            </div>
                            <div class="option-item" data-match="f" onclick="selectMatch(this, 'exercise1')">
                                <span class="option-letter">4</span>
                                <span>trial</span>
                            </div>
                            <div class="option-item" data-match="a" onclick="selectMatch(this, 'exercise1')">
                                <span class="option-letter">5</span>
                                <span>jury</span>
                            </div>
                            <div class="option-item" data-match="c" onclick="selectMatch(this, 'exercise1')">
                                <span class="option-letter">6</span>
                                <span>judge</span>
                            </div>
                            <div class="option-item" data-match="e" onclick="selectMatch(this, 'exercise1')">
                                <span class="option-letter">7</span>
                                <span>federal</span>
                            </div>
                            <div class="option-item" data-match="b" onclick="selectMatch(this, 'exercise1')">
                                <span class="option-letter">8</span>
                                <span>Supreme Court</span>
                            </div>
                            <div class="option-item" data-match="j" onclick="selectMatch(this, 'exercise1')">
                                <span class="option-letter">9</span>
                                <span>defendant</span>
                            </div>
                            <div class="option-item" data-match="i" onclick="selectMatch(this, 'exercise1')">
                                <span class="option-letter">10</span>
                                <span>civil case</span>
                            </div>
                        </div>
                        <div>
                            <h4 style="color: var(--primary); margin-bottom: 10px;">Definitions</h4>
                            <div class="option-item" data-match="a" onclick="selectMatch(this, 'exercise1')">
                                <span class="option-letter">a</span>
                                <span>a group of people who decide if someone is guilty</span>
                            </div>
                            <div class="option-item" data-match="b" onclick="selectMatch(this, 'exercise1')">
                                <span class="option-letter">b</span>
                                <span>the highest court in the legal system</span>
                            </div>
                            <div class="option-item" data-match="c" onclick="selectMatch(this, 'exercise1')">
                                <span class="option-letter">c</span>
                                <span>a person who decides legal cases</span>
                            </div>
                            <div class="option-item" data-match="d" onclick="selectMatch(this, 'exercise1')">
                                <span class="option-letter">d</span>
                                <span>the power to make legal decisions</span>
                            </div>
                            <div class="option-item" data-match="e" onclick="selectMatch(this, 'exercise1')">
                                <span class="option-letter">e</span>
                                <span>relating to national government</span>
                            </div>
                            <div class="option-item" data-match="f" onclick="selectMatch(this, 'exercise1')">
                                <span class="option-letter">f</span>
                                <span>a formal court hearing with evidence</span>
                            </div>
                            <div class="option-item" data-match="g" onclick="selectMatch(this, 'exercise1')">
                                <span class="option-letter">g</span>
                                <span>to ask a higher court to review a decision</span>
                            </div>
                            <div class="option-item" data-match="h" onclick="selectMatch(this, 'exercise1')">
                                <span class="option-letter">h</span>
                                <span>a lower-level judge in the UK</span>
                            </div>
                            <div class="option-item" data-match="i" onclick="selectMatch(this, 'exercise1')">
                                <span class="option-letter">i</span>
                                <span>a dispute about rights, not crimes</span>
                            </div>
                            <div class="option-item" data-match="j" onclick="selectMatch(this, 'exercise1')">
                                <span class="option-letter">j</span>
                                <span>a person accused or sued in court</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="exercise-actions">
                    <button class="btn-check" onclick="checkMatching('exercise1')">Check Answers</button>
                </div>
                <div class="feedback-message" id="feedback-exercise1"></div>
            </div>

            <!-- Pause Indicator -->
            <div class="pause-indicator" onclick="seekTo(420)">
                <span class="icon">‚è∏</span>
                <div class="text">
                    <strong>Pause the video here</strong>
                    <small>Complete Exercise 2 before continuing (07:00)</small>
                </div>
            </div>

            <!-- Exercise 2: Gap-fill -->
            <div class="exercise-block" id="exercise2">
                <div class="exercise-header">
                    <div class="exercise-number">2</div>
                    <div class="exercise-title">
                        <h3>Complete the Sentences</h3>
                        <span>Use words from the box to fill in the blanks</span>
                    </div>
                </div>
                <div class="exercise-content">
                    <p><strong>Word Box:</strong> <em>court, appeal, jurisdiction, trial, federal, judge, magistrate</em></p>

                    <div style="line-height: 2.5; margin-top: 20px;">
                        <p>1. In the United States, there are both <input type="text" class="fill-blank-input" data-answer="federal" id="blank2-1" style="width: 120px;"> courts and state courts.</p>

                        <p>2. If you disagree with a decision, you can file an <input type="text" class="fill-blank-input" data-answer="appeal" id="blank2-2" style="width: 120px;"> to a higher court.</p>

                        <p>3. A <input type="text" class="fill-blank-input" data-answer="judge" id="blank2-3" style="width: 120px;"> is a person who presides over a court and makes legal decisions.</p>

                        <p>4. The <input type="text" class="fill-blank-input" data-answer="trial" id="blank2-4" style="width: 120px;"> lasted three weeks before the jury reached a verdict.</p>

                        <p>5. Minor criminal cases in England are heard by a <input type="text" class="fill-blank-input" data-answer="magistrate" id="blank2-5" style="width: 120px;"> in a Magistrates' Court.</p>

                        <p>6. Federal courts have <input type="text" class="fill-blank-input" data-answer="jurisdiction" id="blank2-6" style="width: 120px;"> over cases involving federal law.</p>

                        <p>7. The case will be heard in <input type="text" class="fill-blank-input" data-answer="court" id="blank2-7" style="width: 120px;"> next month.</p>
                    </div>
                </div>
                <div class="exercise-actions">
                    <button class="btn-check" onclick="checkFillBlanks('exercise2', 7)">Check Answers</button>
                </div>
                <div class="feedback-message" id="feedback-exercise2"></div>
            </div>

            <!-- PART 2: READING -->
            <div class="content-block">
                <h2>üìñ Understanding Common Law Court Systems</h2>
                <p>
                    The United States and the United Kingdom both use <strong>common law systems</strong>, but their court structures are different. In the <strong>United States</strong>, there are two separate court systems: <strong>federal courts</strong> and <strong>state courts</strong>. Federal courts deal with cases involving federal law, disputes between states, and cases involving foreign governments. The <strong>Supreme Court of the United States (SCOTUS)</strong> is the highest court in the country. State courts handle most criminal and civil cases, including family law, contracts, and property disputes.
                </p>
                <p>
                    In the <strong>United Kingdom</strong>, the court system is unified but divided by the type of case. <strong>Criminal cases</strong> in England and Wales start in <strong>Magistrates' Courts</strong> for minor offenses or in the <strong>Crown Court</strong> for serious crimes. <strong>Civil cases</strong> begin in <strong>County Courts</strong> or the <strong>High Court</strong> depending on their complexity. The <strong>UK Supreme Court (UKSC)</strong>, established in 2009, is the final court of appeal for the entire UK.
                </p>
                <p>
                    <strong>Mexico</strong> uses a <strong>civil law system</strong>, which is different from common law. However, Mexico has federal and state courts similar to the US. The <strong>Supreme Court of Justice (SCJN)</strong> is the highest court. Understanding Anglo-American court systems helps Mexican lawyers work with international clients and understand case precedents from the US and UK.
                </p>
                <p>
                    <strong>Key difference:</strong> In common law countries, judges' decisions create legal precedents that future courts must follow. In civil law countries like Mexico, written codes are more important than precedents.
                </p>
            </div>

            <!-- Comparative Table -->
            <div class="content-block">
                <h2>üìä Comparative Table</h2>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Feature</th>
                            <th>United States</th>
                            <th>United Kingdom</th>
                            <th>Mexico</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Legal System</strong></td>
                            <td>Common Law</td>
                            <td>Common Law</td>
                            <td>Civil Law</td>
                        </tr>
                        <tr>
                            <td><strong>Highest Court</strong></td>
                            <td>Supreme Court (SCOTUS)</td>
                            <td>UK Supreme Court (UKSC)</td>
                            <td>Supreme Court (SCJN)</td>
                        </tr>
                        <tr>
                            <td><strong>Court Structure</strong></td>
                            <td>Federal + State</td>
                            <td>Unified (by case type)</td>
                            <td>Federal + State</td>
                        </tr>
                        <tr>
                            <td><strong>Criminal Trial Court</strong></td>
                            <td>District Court / State Court</td>
                            <td>Crown Court</td>
                            <td>Federal/State Courts</td>
                        </tr>
                        <tr>
                            <td><strong>Minor Criminal Cases</strong></td>
                            <td>State Courts</td>
                            <td>Magistrates' Court</td>
                            <td>Minor Offenses Courts</td>
                        </tr>
                        <tr>
                            <td><strong>Role of Precedent</strong></td>
                            <td>Very important</td>
                            <td>Very important</td>
                            <td>Less important</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Pause Indicator -->
            <div class="pause-indicator" onclick="seekTo(1080)">
                <span class="icon">‚è∏</span>
                <div class="text">
                    <strong>Pause the video here</strong>
                    <small>Complete Exercise 3 before continuing (18:00)</small>
                </div>
            </div>

            <!-- Exercise 3: True or False -->
            <div class="exercise-block" id="exercise3">
                <div class="exercise-header">
                    <div class="exercise-number">3</div>
                    <div class="exercise-title">
                        <h3>True or False</h3>
                        <span>Determine if the statements are correct. If false, correct them.</span>
                    </div>
                </div>
                <div class="exercise-content">
                    <div style="margin-bottom: 20px;">
                        <p><strong>1. The US has only one court system for the entire country.</strong></p>
                        <ul class="options-list">
                            <li class="option-item" data-correct="false" onclick="selectOption(this, 'tf3-1')">
                                <span class="option-letter">T</span>
                                <span>True</span>
                            </li>
                            <li class="option-item" data-correct="true" onclick="selectOption(this, 'tf3-1')">
                                <span class="option-letter">F</span>
                                <span>False</span>
                            </li>
                        </ul>
                        <p style="font-size: 0.9rem; color: var(--text-light); margin-top: 10px;"><em>Correction: The US has two court systems: federal courts and state courts.</em></p>
                    </div>

                    <div style="margin-bottom: 20px;">
                        <p><strong>2. The UK Supreme Court was established in 2009.</strong></p>
                        <ul class="options-list">
                            <li class="option-item" data-correct="true" onclick="selectOption(this, 'tf3-2')">
                                <span class="option-letter">T</span>
                                <span>True</span>
                            </li>
                            <li class="option-item" data-correct="false" onclick="selectOption(this, 'tf3-2')">
                                <span class="option-letter">F</span>
                                <span>False</span>
                            </li>
                        </ul>
                    </div>

                    <div style="margin-bottom: 20px;">
                        <p><strong>3. Mexico uses a common law system like the US and UK.</strong></p>
                        <ul class="options-list">
                            <li class="option-item" data-correct="false" onclick="selectOption(this, 'tf3-3')">
                                <span class="option-letter">T</span>
                                <span>True</span>
                            </li>
                            <li class="option-item" data-correct="true" onclick="selectOption(this, 'tf3-3')">
                                <span class="option-letter">F</span>
                                <span>False</span>
                            </li>
                        </ul>
                        <p style="font-size: 0.9rem; color: var(--text-light); margin-top: 10px;"><em>Correction: Mexico uses a civil law system, not common law.</em></p>
                    </div>

                    <div style="margin-bottom: 20px;">
                        <p><strong>4. Federal courts in the US deal with cases involving federal law.</strong></p>
                        <ul class="options-list">
                            <li class="option-item" data-correct="true" onclick="selectOption(this, 'tf3-4')">
                                <span class="option-letter">T</span>
                                <span>True</span>
                            </li>
                            <li class="option-item" data-correct="false" onclick="selectOption(this, 'tf3-4')">
                                <span class="option-letter">F</span>
                                <span>False</span>
                            </li>
                        </ul>
                    </div>

                    <div style="margin-bottom: 20px;">
                        <p><strong>5. Magistrates' Courts in the UK handle serious criminal cases.</strong></p>
                        <ul class="options-list">
                            <li class="option-item" data-correct="false" onclick="selectOption(this, 'tf3-5')">
                                <span class="option-letter">T</span>
                                <span>True</span>
                            </li>
                            <li class="option-item" data-correct="true" onclick="selectOption(this, 'tf3-5')">
                                <span class="option-letter">F</span>
                                <span>False</span>
                            </li>
                        </ul>
                        <p style="font-size: 0.9rem; color: var(--text-light); margin-top: 10px;"><em>Correction: Magistrates' Courts handle minor criminal cases. Serious cases go to Crown Court.</em></p>
                    </div>

                    <div style="margin-bottom: 20px;">
                        <p><strong>6. In common law, judges' decisions create precedents.</strong></p>
                        <ul class="options-list">
                            <li class="option-item" data-correct="true" onclick="selectOption(this, 'tf3-6')">
                                <span class="option-letter">T</span>
                                <span>True</span>
                            </li>
                            <li class="option-item" data-correct="false" onclick="selectOption(this, 'tf3-6')">
                                <span class="option-letter">F</span>
                                <span>False</span>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="exercise-actions">
                    <button class="btn-check" onclick="checkTrueFalse('exercise3', 6)">Check Answers</button>
                </div>
                <div class="feedback-message" id="feedback-exercise3"></div>
            </div>

            <!-- PART 3: LISTENING -->
            <div class="content-block">
                <h2>üéß A Day in Westminster Magistrates' Court</h2>
                <p><strong>Context:</strong> You will hear Sarah Chen, a court clerk, describing a typical day at a Magistrates' Court in London.</p>
                <p style="background: var(--light-bg); padding: 15px; border-radius: 10px; margin: 15px 0;">
                    <strong>Note:</strong> The audio is embedded in the video lecture at timestamp 27:00. Pause the video when instructed to complete the listening exercises below.
                </p>
            </div>

            <!-- Pause Indicator -->
            <div class="pause-indicator" onclick="seekTo(1710)">
                <span class="icon">‚è∏</span>
                <div class="text">
                    <strong>Pause the video here</strong>
                    <small>Complete Exercise 6 after listening (28:30)</small>
                </div>
            </div>

            <!-- Exercise 6: Listening Comprehension -->
            <div class="exercise-block" id="exercise6">
                <div class="exercise-header">
                    <div class="exercise-number">6</div>
                    <div class="exercise-title">
                        <h3>Listening Comprehension</h3>
                        <span>Tick (‚úì) the information you hear in the audio</span>
                    </div>
                </div>
                <div class="exercise-content">
                    <p><strong>Listen carefully and select ONLY what Sarah Chen mentions:</strong></p>
                    <ul class="options-list" style="margin-top: 15px;">
                        <li class="option-item" data-correct="true" onclick="toggleCheckbox(this)">
                            <span class="option-letter">‚ñ°</span>
                            <span>The court opens at 9:00 AM</span>
                        </li>
                        <li class="option-item" data-correct="false" onclick="toggleCheckbox(this)">
                            <span class="option-letter">‚ñ°</span>
                            <span>Magistrates are professional judges</span>
                        </li>
                        <li class="option-item" data-correct="true" onclick="toggleCheckbox(this)">
                            <span class="option-letter">‚ñ°</span>
                            <span>Most cases last less than 30 minutes</span>
                        </li>
                        <li class="option-item" data-correct="false" onclick="toggleCheckbox(this)">
                            <span class="option-letter">‚ñ°</span>
                            <span>The court handles divorce cases</span>
                        </li>
                        <li class="option-item" data-correct="true" onclick="toggleCheckbox(this)">
                            <span class="option-letter">‚ñ°</span>
                            <span>Defendants can have a lawyer present</span>
                        </li>
                        <li class="option-item" data-correct="false" onclick="toggleCheckbox(this)">
                            <span class="option-letter">‚ñ°</span>
                            <span>All cases go to trial with a jury</span>
                        </li>
                        <li class="option-item" data-correct="true" onclick="toggleCheckbox(this)">
                            <span class="option-letter">‚ñ°</span>
                            <span>The court deals with traffic offenses</span>
                        </li>
                        <li class="option-item" data-correct="true" onclick="toggleCheckbox(this)">
                            <span class="option-letter">‚ñ°</span>
                            <span>Cases can be adjourned to another date</span>
                        </li>
                    </ul>
                </div>
                <div class="exercise-actions">
                    <button class="btn-check" onclick="checkListening('exercise6')">Check Answers</button>
                </div>
                <div class="feedback-message" id="feedback-exercise6"></div>
            </div>

            <!-- Exercise 7: Listening Gap-fill -->
            <div class="exercise-block" id="exercise7">
                <div class="exercise-header">
                    <div class="exercise-number">7</div>
                    <div class="exercise-title">
                        <h3>Listen and Complete</h3>
                        <span>Fill in the missing words from the audio</span>
                    </div>
                </div>
                <div class="exercise-content">
                    <div style="line-height: 2.2;">
                        <p>"Good morning, I'm Sarah Chen, and I work as a court clerk at Westminster Magistrates' Court. A typical day starts at <input type="text" class="fill-blank-input" data-answer="9:00 am|nine o'clock|9 am|9:00|nine" id="blank7-1" style="width: 120px;"> when we open the court. Most people don't realise that magistrates are not <input type="text" class="fill-blank-input" data-answer="professional" id="blank7-2" style="width: 140px;"> judges ‚Äì they are trained volunteers from the local <input type="text" class="fill-blank-input" data-answer="community" id="blank7-3" style="width: 140px;">.</p>

                        <p>We handle minor criminal cases, like <input type="text" class="fill-blank-input" data-answer="traffic" id="blank7-4" style="width: 120px;"> offenses, shoplifting, and minor assaults. Each case usually takes about <input type="text" class="fill-blank-input" data-answer="20|twenty|20 minutes|twenty minutes" id="blank7-5" style="width: 120px;"> minutes. The defendant can represent themselves or have a <input type="text" class="fill-blank-input" data-answer="lawyer|solicitor" id="blank7-6" style="width: 120px;"> present. If the case is more serious, the magistrates can send it to the <input type="text" class="fill-blank-input" data-answer="crown" id="blank7-7" style="width: 120px;"> Court. We also deal with <input type="text" class="fill-blank-input" data-answer="warrant" id="blank7-8" style="width: 120px;"> applications and bail hearings."</p>
                    </div>
                </div>
                <div class="exercise-actions">
                    <button class="btn-check" onclick="checkFillBlanks('exercise7', 8)">Check Answers</button>
                </div>
                <div class="feedback-message" id="feedback-exercise7"></div>
            </div>

            <!-- Pause Indicator -->
            <div class="pause-indicator" onclick="seekTo(2340)">
                <span class="icon">‚è∏</span>
                <div class="text">
                    <strong>Pause the video here</strong>
                    <small>Complete Exercise 8 before continuing (39:00)</small>
                </div>
            </div>

            <!-- Exercise 8: Match Roles -->
            <div class="exercise-block" id="exercise8">
                <div class="exercise-header">
                    <div class="exercise-number">8</div>
                    <div class="exercise-title">
                        <h3>Court Roles</h3>
                        <span>Match each role with its responsibility</span>
                    </div>
                </div>
                <div class="exercise-content">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div>
                            <h4 style="color: var(--primary); margin-bottom: 10px;">Roles</h4>
                            <div class="option-item" data-match="c" onclick="selectMatch(this, 'exercise8')">
                                <span class="option-letter">1</span>
                                <span>Court Clerk</span>
                            </div>
                            <div class="option-item" data-match="a" onclick="selectMatch(this, 'exercise8')">
                                <span class="option-letter">2</span>
                                <span>Magistrate</span>
                            </div>
                            <div class="option-item" data-match="d" onclick="selectMatch(this, 'exercise8')">
                                <span class="option-letter">3</span>
                                <span>Defense Lawyer</span>
                            </div>
                            <div class="option-item" data-match="b" onclick="selectMatch(this, 'exercise8')">
                                <span class="option-letter">4</span>
                                <span>Prosecutor</span>
                            </div>
                            <div class="option-item" data-match="e" onclick="selectMatch(this, 'exercise8')">
                                <span class="option-letter">5</span>
                                <span>Defendant</span>
                            </div>
                        </div>
                        <div>
                            <h4 style="color: var(--primary); margin-bottom: 10px;">Responsibilities</h4>
                            <div class="option-item" data-match="a" onclick="selectMatch(this, 'exercise8')">
                                <span class="option-letter">a</span>
                                <span>Decides if defendant is guilty or not guilty</span>
                            </div>
                            <div class="option-item" data-match="b" onclick="selectMatch(this, 'exercise8')">
                                <span class="option-letter">b</span>
                                <span>Represents the government in criminal cases</span>
                            </div>
                            <div class="option-item" data-match="c" onclick="selectMatch(this, 'exercise8')">
                                <span class="option-letter">c</span>
                                <span>Manages court administration and records</span>
                            </div>
                            <div class="option-item" data-match="d" onclick="selectMatch(this, 'exercise8')">
                                <span class="option-letter">d</span>
                                <span>Represents the defendant</span>
                            </div>
                            <div class="option-item" data-match="e" onclick="selectMatch(this, 'exercise8')">
                                <span class="option-letter">e</span>
                                <span>The person accused of a crime</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="exercise-actions">
                    <button class="btn-check" onclick="checkMatching('exercise8')">Check Answers</button>
                </div>
                <div class="feedback-message" id="feedback-exercise8"></div>
            </div>

            <!-- PART 4: PRACTICAL APPLICATION -->
            <div class="content-block">
                <h2>üìÑ Document Analysis: Court Summons</h2>
                <p>Read this extract from a real UK Magistrates' Court summons:</p>
            </div>

            <div class="document-display">
                <div class="doc-header">
                    WESTMINSTER MAGISTRATES' COURT<br>
                    Marylebone Road, London NW1 5TR<br><br>
                    SUMMONS TO ATTEND COURT
                </div>

                <div class="doc-to">
                    To: James Robert Thompson<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;15 Victoria Street, London SW1
                </div>

                <div class="doc-section">
                    You are summoned to appear before Westminster Magistrates' Court<br>
                    on <strong>Monday, 4th December 2024 at 10:00 AM</strong>
                </div>

                <div class="doc-section">
                    <strong>Offense:</strong> Driving without due care and attention<br>
                    <strong>Date of Offense:</strong> 15th September 2024<br>
                    <strong>Location:</strong> Oxford Street, London W1
                </div>

                <div class="doc-section">
                    You must attend court on the date shown above. If you fail to attend,<br>
                    a warrant may be issued for your arrest. You may be represented by<br>
                    a solicitor or legal representative.
                </div>

                <div class="doc-section" style="margin-top: 20px;">
                    <strong>Issued by:</strong> Court Administration Office<br>
                    <strong>Date:</strong> 15th November 2024
                </div>
            </div>

            <!-- Pause Indicator -->
            <div class="pause-indicator" onclick="seekTo(2760)">
                <span class="icon">‚è∏</span>
                <div class="text">
                    <strong>Pause the video here</strong>
                    <small>Complete Exercises 9-10 before continuing (46:00)</small>
                </div>
            </div>

            <!-- Exercise 9-10: Document Analysis -->
            <div class="exercise-block" id="exercise9">
                <div class="exercise-header">
                    <div class="exercise-number">9-10</div>
                    <div class="exercise-title">
                        <h3>Document Analysis</h3>
                        <span>Answer questions about the court summons</span>
                    </div>
                </div>
                <div class="exercise-content">
                    <div style="line-height: 2.2;">
                        <p><strong>1.</strong> The name of the court:
                        <input type="text" class="fill-blank-input" data-answer="westminster magistrates' court|westminster magistrates court" id="blank9-1" style="width: 300px;"></p>

                        <p><strong>2.</strong> The date of the hearing:
                        <input type="text" class="fill-blank-input" data-answer="monday, 4th december 2024|4th december 2024|monday 4th december 2024|december 4, 2024" id="blank9-2" style="width: 300px;"></p>

                        <p><strong>3.</strong> The offense charged:
                        <input type="text" class="fill-blank-input" data-answer="driving without due care and attention|driving without due care" id="blank9-3" style="width: 350px;"></p>

                        <p><strong>4.</strong> The defendant's name:
                        <input type="text" class="fill-blank-input" data-answer="james robert thompson|james thompson" id="blank9-4" style="width: 300px;"></p>

                        <p><strong>5.</strong> What happens if the defendant doesn't attend:
                        <input type="text" class="fill-blank-input" data-answer="a warrant may be issued|warrant for arrest|a warrant may be issued for his arrest" id="blank9-5" style="width: 400px;"></p>

                        <p><strong>6.</strong> Can the defendant have a lawyer?
                        <select class="fill-blank-input" data-answer="yes" id="blank9-6" style="width: 100px; padding: 8px;">
                            <option value="">Select...</option>
                            <option value="yes">YES</option>
                            <option value="no">NO</option>
                        </select>
                        </p>
                    </div>
                </div>
                <div class="exercise-actions">
                    <button class="btn-check" onclick="checkFillBlanks('exercise9', 6)">Check Answers</button>
                </div>
                <div class="feedback-message" id="feedback-exercise9"></div>
            </div>

            <!-- LATIN TERMS -->
            <div class="vocabulary-box">
                <h4>‚öñÔ∏è Legal Latin Terms</h4>
                <p style="margin-bottom: 15px;">Common Latin phrases used in Anglo-American courts:</p>
                <div class="vocab-grid">
                    <div class="vocab-item">
                        <div class="term">mens rea</div>
                        <div class="definition">guilty mind (criminal intent)</div>
                        <div class="spanish">intenci√≥n criminal</div>
                    </div>
                    <div class="vocab-item">
                        <div class="term">actus reus</div>
                        <div class="definition">guilty act (criminal action)</div>
                        <div class="spanish">acto criminal</div>
                    </div>
                    <div class="vocab-item">
                        <div class="term">habeas corpus</div>
                        <div class="definition">you must have the body (right to trial)</div>
                        <div class="spanish">derecho a comparecer ante juez</div>
                    </div>
                    <div class="vocab-item">
                        <div class="term">in camera</div>
                        <div class="definition">in private (closed court session)</div>
                        <div class="spanish">en privado, sesi√≥n cerrada</div>
                    </div>
                    <div class="vocab-item">
                        <div class="term">pro bono</div>
                        <div class="definition">for the public good (free legal work)</div>
                        <div class="spanish">servicio legal gratuito</div>
                    </div>
                    <div class="vocab-item">
                        <div class="term">de facto</div>
                        <div class="definition">in fact (in reality)</div>
                        <div class="spanish">de hecho, en la pr√°ctica</div>
                    </div>
                </div>
            </div>

            <!-- Exercise 11: Latin Terms -->
            <div class="exercise-block" id="exercise11">
                <div class="exercise-header">
                    <div class="exercise-number">11</div>
                    <div class="exercise-title">
                        <h3>Latin Legal Terms</h3>
                        <span>Match the Latin terms with their English meanings</span>
                    </div>
                </div>
                <div class="exercise-content">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div>
                            <h4 style="color: var(--primary); margin-bottom: 10px;">Latin Terms</h4>
                            <div class="option-item" data-match="b" onclick="selectMatch(this, 'exercise11')">
                                <span class="option-letter">1</span>
                                <span>mens rea</span>
                            </div>
                            <div class="option-item" data-match="e" onclick="selectMatch(this, 'exercise11')">
                                <span class="option-letter">2</span>
                                <span>actus reus</span>
                            </div>
                            <div class="option-item" data-match="d" onclick="selectMatch(this, 'exercise11')">
                                <span class="option-letter">3</span>
                                <span>habeas corpus</span>
                            </div>
                            <div class="option-item" data-match="f" onclick="selectMatch(this, 'exercise11')">
                                <span class="option-letter">4</span>
                                <span>in camera</span>
                            </div>
                            <div class="option-item" data-match="a" onclick="selectMatch(this, 'exercise11')">
                                <span class="option-letter">5</span>
                                <span>pro bono</span>
                            </div>
                            <div class="option-item" data-match="c" onclick="selectMatch(this, 'exercise11')">
                                <span class="option-letter">6</span>
                                <span>de facto</span>
                            </div>
                        </div>
                        <div>
                            <h4 style="color: var(--primary); margin-bottom: 10px;">English Meanings</h4>
                            <div class="option-item" data-match="a" onclick="selectMatch(this, 'exercise11')">
                                <span class="option-letter">a</span>
                                <span>free legal services</span>
                            </div>
                            <div class="option-item" data-match="b" onclick="selectMatch(this, 'exercise11')">
                                <span class="option-letter">b</span>
                                <span>criminal intent</span>
                            </div>
                            <div class="option-item" data-match="c" onclick="selectMatch(this, 'exercise11')">
                                <span class="option-letter">c</span>
                                <span>in reality</span>
                            </div>
                            <div class="option-item" data-match="d" onclick="selectMatch(this, 'exercise11')">
                                <span class="option-letter">d</span>
                                <span>right to appear before a judge</span>
                            </div>
                            <div class="option-item" data-match="e" onclick="selectMatch(this, 'exercise11')">
                                <span class="option-letter">e</span>
                                <span>criminal action</span>
                            </div>
                            <div class="option-item" data-match="f" onclick="selectMatch(this, 'exercise11')">
                                <span class="option-letter">f</span>
                                <span>in private court session</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="exercise-actions">
                    <button class="btn-check" onclick="checkMatching('exercise11')">Check Answers</button>
                </div>
                <div class="feedback-message" id="feedback-exercise11"></div>
            </div>

            <!-- Summary -->
            <div class="content-block highlight">
                <h2>üìã Module Summary</h2>
                <p>In this module, you learned:</p>
                <ul>
                    <li>The US has two court systems: federal courts and state courts</li>
                    <li>The UK Supreme Court was established in 2009</li>
                    <li>Magistrates in the UK are trained volunteers from the community</li>
                    <li>Common law systems rely on precedents; civil law systems rely on codes</li>
                    <li>How to read and analyze authentic court documents</li>
                    <li>Essential legal vocabulary and Latin terms used in Anglo-American courts</li>
                </ul>
                <p style="margin-top: 15px; padding: 15px; background: rgba(207, 168, 146, 0.1); border-left: 4px solid var(--secondary); border-radius: 5px;">
                    <strong>üìß Submit Your Work:</strong> Email your completed exercises and reflection questions to <strong>jorge_clemente@empirica.mx</strong> for personalized feedback!
                </p>
            </div>

            <!-- Module Evaluation Survey -->
            <div class="exercise-block" id="moduleSurvey" style="background: linear-gradient(135deg, #f8f9fa, #e9ecef); border: 2px solid var(--primary);">
                <div class="exercise-header">
                    <div class="exercise-number">üìä</div>
                    <div class="exercise-title">
                        <h3>Module Evaluation / Evaluaci√≥n del M√≥dulo</h3>
                        <span>Help us improve this course by sharing your feedback</span>
                    </div>
                </div>
                <div class="exercise-content">
                    <form id="surveyForm" style="display: flex; flex-direction: column; gap: 20px;">
                        <!-- Question 1: Difficulty -->
                        <div style="padding: 15px; background: white; border-radius: 10px;">
                            <label style="font-weight: 600; color: var(--primary); display: block; margin-bottom: 10px;">
                                1. How would you rate the difficulty level of this module?<br>
                                <span style="font-size: 0.9rem; color: var(--text-light);">¬øC√≥mo calificar√≠as el nivel de dificultad de este m√≥dulo?</span>
                            </label>
                            <div style="display: flex; flex-direction: column; gap: 8px; margin-top: 10px;">
                                <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                    <input type="radio" name="difficulty" value="too_easy" required>
                                    <span>Too easy / Muy f√°cil</span>
                                </label>
                                <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                    <input type="radio" name="difficulty" value="appropriate" required>
                                    <span>Appropriate / Apropiado</span>
                                </label>
                                <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                    <input type="radio" name="difficulty" value="challenging" required>
                                    <span>Challenging but manageable / Desafiante pero manejable</span>
                                </label>
                                <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                    <input type="radio" name="difficulty" value="too_hard" required>
                                    <span>Too difficult / Muy dif√≠cil</span>
                                </label>
                            </div>
                        </div>

                        <!-- Question 2: Content Quality -->
                        <div style="padding: 15px; background: white; border-radius: 10px;">
                            <label style="font-weight: 600; color: var(--primary); display: block; margin-bottom: 10px;">
                                2. Rate the quality of the content (1-5 stars)<br>
                                <span style="font-size: 0.9rem; color: var(--text-light);">Califica la calidad del contenido (1-5 estrellas)</span>
                            </label>
                            <div style="display: flex; gap: 10px; margin-top: 10px;">
                                <label style="cursor: pointer;"><input type="radio" name="quality" value="1" required> 1‚≠ê</label>
                                <label style="cursor: pointer;"><input type="radio" name="quality" value="2" required> 2‚≠ê</label>
                                <label style="cursor: pointer;"><input type="radio" name="quality" value="3" required> 3‚≠ê</label>
                                <label style="cursor: pointer;"><input type="radio" name="quality" value="4" required> 4‚≠ê</label>
                                <label style="cursor: pointer;"><input type="radio" name="quality" value="5" required> 5‚≠ê</label>
                            </div>
                        </div>

                        <!-- Question 3: Most Useful -->
                        <div style="padding: 15px; background: white; border-radius: 10px;">
                            <label style="font-weight: 600; color: var(--primary); display: block; margin-bottom: 10px;">
                                3. What was the most useful part of this module?<br>
                                <span style="font-size: 0.9rem; color: var(--text-light);">¬øCu√°l fue la parte m√°s √∫til de este m√≥dulo?</span>
                            </label>
                            <textarea name="most_useful" rows="3" style="width: 100%; padding: 10px; border: 2px solid var(--light-bg); border-radius: 8px; font-family: inherit; font-size: 0.95rem;" placeholder="Your answer / Tu respuesta..."></textarea>
                        </div>

                        <!-- Question 4: Suggestions -->
                        <div style="padding: 15px; background: white; border-radius: 10px;">
                            <label style="font-weight: 600; color: var(--primary); display: block; margin-bottom: 10px;">
                                4. Any suggestions for improvement?<br>
                                <span style="font-size: 0.9rem; color: var(--text-light);">¬øAlguna sugerencia de mejora?</span>
                            </label>
                            <textarea name="suggestions" rows="3" style="width: 100%; padding: 10px; border: 2px solid var(--light-bg); border-radius: 8px; font-family: inherit; font-size: 0.95rem;" placeholder="Your suggestions / Tus sugerencias..."></textarea>
                        </div>

                        <!-- Question 5: Time Spent -->
                        <div style="padding: 15px; background: white; border-radius: 10px;">
                            <label style="font-weight: 600; color: var(--primary); display: block; margin-bottom: 10px;">
                                5. How long did it take you to complete this module?<br>
                                <span style="font-size: 0.9rem; color: var(--text-light);">¬øCu√°nto tiempo te tom√≥ completar este m√≥dulo?</span>
                            </label>
                            <select name="time_spent" required style="width: 100%; padding: 10px; border: 2px solid var(--light-bg); border-radius: 8px; font-size: 0.95rem;">
                                <option value="">Select... / Selecciona...</option>
                                <option value="less_30">Less than 30 minutes / Menos de 30 minutos</option>
                                <option value="30_45">30-45 minutes / 30-45 minutos</option>
                                <option value="45_60">45-60 minutes / 45-60 minutos</option>
                                <option value="60_90">60-90 minutes / 60-90 minutos</option>
                                <option value="more_90">More than 90 minutes / M√°s de 90 minutos</option>
                            </select>
                        </div>

                        <!-- Submit Button -->
                        <div style="display: flex; gap: 10px;">
                            <button type="submit" class="btn-check" style="flex: 1;">
                                Submit Survey / Enviar Encuesta
                            </button>
                        </div>
                    </form>
                    <div class="feedback-message" id="feedback-survey"></div>
                </div>
            </div>

            <!-- Module Navigation -->
            <div class="module-navigation">
                <a href="../index.html" class="nav-btn">
                    ‚Üê Back to Modules
                </a>
                <a href="../modulo-2/index.html" class="nav-btn">
                    Next Module ‚Üí
                </a>
            </div>
        </section>
    </main>

    <!-- WhatsApp Float -->
    <a href="https://wa.me/529982136760?text=Hola,%20tengo%20una%20pregunta%20sobre%20el%20M√≥dulo%201%20de%20Legal%20English"
       class="whatsapp-float" target="_blank" title="¬øDudas? Cont√°ctanos">
        üí¨
    </a>

    <script>
        // ============================================
        // VIDEO CONTROL FUNCTIONS
        // ============================================

        let player;

        function playPause() {
            if (player && player.getPlayerState) {
                const state = player.getPlayerState();
                if (state === 1) {
                    player.pauseVideo();
                } else {
                    player.playVideo();
                }
            } else {
                alert('Configure your video player to enable controls');
            }
        }

        function seekTo(seconds) {
            if (player && player.seekTo) {
                player.seekTo(seconds, true);
                player.playVideo();
            }
            // Highlight the active time marker
            document.querySelectorAll('.time-marker').forEach(marker => {
                marker.classList.remove('active');
                if (parseInt(marker.dataset.time) === seconds) {
                    marker.classList.add('active');
                }
            });
        }

        function updateProgress() {
            if (player && player.getCurrentTime && player.getDuration) {
                const current = player.getCurrentTime();
                const duration = player.getDuration();
                const progress = (current / duration) * 100;
                document.getElementById('progressFill').style.width = progress + '%';
            }
        }

        // ============================================
        // EXERCISE FUNCTIONS
        // ============================================

        // Matching Exercise
        let selectedLeft = null;
        let selectedRight = null;
        let matchedPairs = {};

        function selectMatch(element, exerciseId) {
            const isLeft = element.parentElement.parentElement.querySelector('h4').textContent.includes('Terms') ||
                          element.parentElement.parentElement.querySelector('h4').textContent.includes('Roles') ||
                          element.parentElement.parentElement.querySelector('h4').textContent.includes('Latin');

            if (isLeft) {
                if (selectedLeft) selectedLeft.classList.remove('selected');
                selectedLeft = element;
                element.classList.add('selected');
            } else {
                if (selectedRight) selectedRight.classList.remove('selected');
                selectedRight = element;
                element.classList.add('selected');
            }

            if (selectedLeft && selectedRight) {
                const matchLeft = selectedLeft.dataset.match;
                const matchRight = selectedRight.dataset.match;

                if (matchLeft === matchRight) {
                    selectedLeft.classList.add('correct');
                    selectedRight.classList.add('correct');
                    selectedLeft.classList.remove('selected');
                    selectedRight.classList.remove('selected');

                    if (!matchedPairs[exerciseId]) matchedPairs[exerciseId] = [];
                    matchedPairs[exerciseId].push(matchLeft);

                    selectedLeft = null;
                    selectedRight = null;
                } else {
                    setTimeout(() => {
                        selectedLeft.classList.remove('selected');
                        selectedRight.classList.remove('selected');
                        selectedLeft = null;
                        selectedRight = null;
                    }, 500);
                }
            }
        }

        function checkMatching(exerciseId) {
            // Check if already attempted
            if (exerciseAttempts[exerciseId]) {
                const feedback = document.getElementById('feedback-' + exerciseId);
                feedback.className = 'feedback-message error';
                feedback.textContent = '‚ö† Solo se permite un intento por ejercicio. Ya has usado tu intento.';
                return;
            }

            const exercise = document.getElementById(exerciseId);
            const leftItems = exercise.querySelectorAll('[data-match]');
            const feedback = document.getElementById('feedback-' + exerciseId);
            const button = exercise.querySelector('.btn-check');

            const totalPairs = leftItems.length / 2;
            const matchedCount = matchedPairs[exerciseId] ? matchedPairs[exerciseId].length : 0;

            // Mark as attempted
            exerciseAttempts[exerciseId] = true;

            // Disable button and all interactions
            if (button) {
                button.disabled = true;
                button.style.opacity = '0.5';
                button.style.cursor = 'not-allowed';
            }

            // Disable further matching
            exercise.querySelectorAll('.option-item').forEach(item => {
                item.style.pointerEvents = 'none';
            });

            if (matchedCount === totalPairs) {
                feedback.className = 'feedback-message success';
                feedback.textContent = '‚úì All matches are correct! Excellent work!';
                updateExerciseProgress();
            } else {
                feedback.className = 'feedback-message error';
                feedback.textContent = `You matched ${matchedCount} out of ${totalPairs} pairs correctly. (Solo se permite un intento)`;
            }

            // Save response
            saveExerciseResponse(
                exerciseId,
                'matching',
                matchedPairs[exerciseId] || [],
                matchedCount === totalPairs,
                (matchedCount / totalPairs) * 100
            );
        }

        // Multiple Choice / True-False
        function selectOption(element, groupId) {
            const container = element.closest('.options-list') || element.parentElement;
            container.querySelectorAll('.option-item').forEach(item => {
                item.classList.remove('selected');
            });
            element.classList.add('selected');
            element.dataset.group = groupId;
        }

        function checkTrueFalse(exerciseId, totalQuestions) {
            // Check if already attempted
            if (exerciseAttempts[exerciseId]) {
                const feedback = document.getElementById('feedback-' + exerciseId);
                feedback.className = 'feedback-message error';
                feedback.textContent = '‚ö† Solo se permite un intento por ejercicio. Ya has usado tu intento.';
                return;
            }

            const exercise = document.getElementById(exerciseId);
            const feedback = document.getElementById('feedback-' + exerciseId);
            const button = exercise.querySelector('.btn-check');

            let allCorrect = true;
            let answeredAll = true;
            let correctCount = 0;

            for (let i = 1; i <= totalQuestions; i++) {
                const selected = exercise.querySelector(`[data-group="tf${exerciseId.slice(-1)}-${i}"].selected`);
                if (!selected) {
                    answeredAll = false;
                } else {
                    const isCorrect = selected.dataset.correct === 'true';
                    if (isCorrect) {
                        selected.classList.add('correct');
                        correctCount++;
                    } else {
                        selected.classList.add('incorrect');
                        allCorrect = false;
                    }
                }
            }

            if (!answeredAll) {
                feedback.className = 'feedback-message error';
                feedback.textContent = 'Please answer all questions.';
                return;
            }

            // Mark as attempted
            exerciseAttempts[exerciseId] = true;

            // Disable button and all interactions
            if (button) {
                button.disabled = true;
                button.style.opacity = '0.5';
                button.style.cursor = 'not-allowed';
            }

            // Disable further selection
            exercise.querySelectorAll('.option-item').forEach(item => {
                item.style.pointerEvents = 'none';
            });

            if (allCorrect) {
                feedback.className = 'feedback-message success';
                feedback.textContent = `‚úì All answers are correct! (${correctCount}/${totalQuestions})`;
                updateExerciseProgress();
            } else {
                feedback.className = 'feedback-message error';
                feedback.textContent = `${correctCount}/${totalQuestions} correct. (Solo se permite un intento)`;
            }

            // Save response - collect user answers
            const userAnswers = [];
            for (let i = 1; i <= totalQuestions; i++) {
                const selected = exercise.querySelector(`[data-group="tf${exerciseId.slice(-1)}-${i}"].selected`);
                if (selected) {
                    userAnswers.push({
                        question: i,
                        answer: selected.textContent.trim(),
                        correct: selected.dataset.correct === 'true'
                    });
                }
            }
            saveExerciseResponse(
                exerciseId,
                'true-false',
                userAnswers,
                allCorrect,
                (correctCount / totalQuestions) * 100
            );
        }

        // Levenshtein distance for spell tolerance
        function levenshteinDistance(str1, str2) {
            const len1 = str1.length;
            const len2 = str2.length;
            const matrix = [];

            if (len1 === 0) return len2;
            if (len2 === 0) return len1;

            for (let i = 0; i <= len2; i++) {
                matrix[i] = [i];
            }

            for (let j = 0; j <= len1; j++) {
                matrix[0][j] = j;
            }

            for (let i = 1; i <= len2; i++) {
                for (let j = 1; j <= len1; j++) {
                    if (str2.charAt(i - 1) === str1.charAt(j - 1)) {
                        matrix[i][j] = matrix[i - 1][j - 1];
                    } else {
                        matrix[i][j] = Math.min(
                            matrix[i - 1][j - 1] + 1,
                            matrix[i][j - 1] + 1,
                            matrix[i - 1][j] + 1
                        );
                    }
                }
            }

            return matrix[len2][len1];
        }

        // Check if answer is close enough (tolerates 1-2 character errors)
        function isSpellingClose(userAnswer, correctAnswer) {
            const distance = levenshteinDistance(userAnswer, correctAnswer);
            const maxDistance = correctAnswer.length <= 4 ? 1 : 2;
            return distance <= maxDistance;
        }

        // Fill in the Blanks
        function checkFillBlanks(exerciseId, totalBlanks) {
            // Check if already attempted
            if (exerciseAttempts[exerciseId]) {
                const feedback = document.getElementById('feedback-' + exerciseId);
                feedback.className = 'feedback-message error';
                feedback.textContent = '‚ö† Solo se permite un intento por ejercicio. Ya has usado tu intento.';
                return;
            }

            const exercise = document.getElementById(exerciseId);
            const feedback = document.getElementById('feedback-' + exerciseId);
            const button = exercise.querySelector('.btn-check');

            let allCorrect = true;
            let correctCount = 0;

            for (let i = 1; i <= totalBlanks; i++) {
                const input = document.getElementById(`blank${exerciseId.slice(-1)}-${i}`);
                if (!input) continue;

                const answer = input.dataset.answer.toLowerCase();
                const userAnswer = input.value.trim().toLowerCase();

                // Handle multiple correct answers separated by |
                const correctAnswers = answer.split('|');

                // Check exact match or close spelling
                const isCorrect = correctAnswers.some(ans =>
                    userAnswer === ans || isSpellingClose(userAnswer, ans)
                );

                if (isCorrect) {
                    input.classList.remove('incorrect');
                    input.classList.add('correct');
                    correctCount++;
                } else {
                    input.classList.remove('correct');
                    input.classList.add('incorrect');
                    allCorrect = false;
                }
            }

            // Mark as attempted
            exerciseAttempts[exerciseId] = true;

            // Disable button and all inputs
            if (button) {
                button.disabled = true;
                button.style.opacity = '0.5';
                button.style.cursor = 'not-allowed';
            }

            // Disable further editing
            exercise.querySelectorAll('.fill-blank-input').forEach(input => {
                input.disabled = true;
                input.style.cursor = 'not-allowed';
            });

            if (allCorrect) {
                feedback.className = 'feedback-message success';
                feedback.textContent = `‚úì All answers are correct! (${correctCount}/${totalBlanks})`;
                updateExerciseProgress();
            } else {
                feedback.className = 'feedback-message error';
                feedback.textContent = `${correctCount}/${totalBlanks} correct. (Solo se permite un intento)`;
            }

            // Save response - collect user answers
            const userAnswers = [];
            for (let i = 1; i <= totalBlanks; i++) {
                const input = document.getElementById(`blank${exerciseId.slice(-1)}-${i}`);
                if (input) {
                    const correctAnswers = input.dataset.answer.split('|');
                    const userAnswer = input.value.trim();
                    const isCorrect = correctAnswers.some(ans =>
                        userAnswer.toLowerCase() === ans.toLowerCase() ||
                        isSpellingClose(userAnswer.toLowerCase(), ans.toLowerCase())
                    );
                    userAnswers.push({
                        blank: i,
                        answer: userAnswer,
                        correct: isCorrect,
                        expected: correctAnswers[0]
                    });
                }
            }
            saveExerciseResponse(
                exerciseId,
                'fill-blanks',
                userAnswers,
                allCorrect,
                (correctCount / totalBlanks) * 100
            );
        }

        // Listening Checkbox Exercise
        function toggleCheckbox(element) {
            element.classList.toggle('selected');
            const letter = element.querySelector('.option-letter');
            if (element.classList.contains('selected')) {
                letter.textContent = '‚úì';
            } else {
                letter.textContent = '‚ñ°';
            }
        }

        function checkListening(exerciseId) {
            // Check if already attempted
            if (exerciseAttempts[exerciseId]) {
                const feedback = document.getElementById('feedback-' + exerciseId);
                feedback.className = 'feedback-message error';
                feedback.textContent = '‚ö† Solo se permite un intento por ejercicio. Ya has usado tu intento.';
                return;
            }

            const exercise = document.getElementById(exerciseId);
            const items = exercise.querySelectorAll('.option-item');
            const feedback = document.getElementById('feedback-' + exerciseId);
            const button = exercise.querySelector('.btn-check');

            let allCorrect = true;
            let correctCount = 0;
            let totalCorrect = 0;

            items.forEach(item => {
                const shouldBeSelected = item.dataset.correct === 'true';
                const isSelected = item.classList.contains('selected');

                if (shouldBeSelected) totalCorrect++;

                if (shouldBeSelected === isSelected) {
                    item.classList.remove('incorrect');
                    item.classList.add('correct');
                    if (shouldBeSelected) correctCount++;
                } else {
                    item.classList.remove('correct');
                    item.classList.add('incorrect');
                    allCorrect = false;
                }
            });

            // Mark as attempted
            exerciseAttempts[exerciseId] = true;

            // Disable button and all interactions
            if (button) {
                button.disabled = true;
                button.style.opacity = '0.5';
                button.style.cursor = 'not-allowed';
            }

            // Disable further clicking
            exercise.querySelectorAll('.option-item').forEach(item => {
                item.style.pointerEvents = 'none';
            });

            if (allCorrect) {
                feedback.className = 'feedback-message success';
                feedback.textContent = `‚úì Perfect! You identified all ${totalCorrect} correct items!`;
                updateExerciseProgress();
            } else {
                feedback.className = 'feedback-message error';
                feedback.textContent = `${correctCount}/${totalCorrect} correct items identified. (Solo se permite un intento)`;
            }

            // Save response - collect user selections
            const userAnswers = [];
            items.forEach((item, index) => {
                userAnswers.push({
                    item: index + 1,
                    text: item.textContent.trim(),
                    selected: item.classList.contains('selected'),
                    shouldBeSelected: item.dataset.correct === 'true',
                    correct: (item.classList.contains('selected') === (item.dataset.correct === 'true'))
                });
            });
            saveExerciseResponse(
                exerciseId,
                'listening-checkbox',
                userAnswers,
                allCorrect,
                (correctCount / totalCorrect) * 100
            );
        }

        // Progress tracking
        let completedExercises = 0;
        const totalExercises = 11;

        // Attempt tracking - only one correction allowed per exercise
        let exerciseAttempts = {};

        function updateExerciseProgress() {
            completedExercises++;
            const progress = (completedExercises / totalExercises) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            localStorage.setItem('module1_progress', completedExercises);
        }

        function loadProgress() {
            const saved = localStorage.getItem('module1_progress');
            if (saved) {
                completedExercises = parseInt(saved);
                const progress = (completedExercises / totalExercises) * 100;
                document.getElementById('progressFill').style.width = progress + '%';
            }
        }

        // Mobile menu toggle
        function toggleMenu() {
            document.getElementById('navMenu').classList.toggle('active');
        }

        // ============================================
        // RESPONSE TRACKING SYSTEM
        // ============================================

        // Save exercise response
        function saveExerciseResponse(exerciseId, exerciseType, userAnswers, isCorrect, score) {
            const userEmail = localStorage.getItem('empirica_user_email') || 'anonymous';
            const timestamp = new Date().toISOString();

            const response = {
                module: 'module-1',
                exerciseId: exerciseId,
                exerciseType: exerciseType,
                userEmail: userEmail,
                timestamp: timestamp,
                userAnswers: userAnswers,
                isCorrect: isCorrect,
                score: score
            };

            // Get existing responses
            let responses = JSON.parse(localStorage.getItem('module1_responses') || '[]');
            responses.push(response);
            localStorage.setItem('module1_responses', JSON.stringify(responses));

            // Also send to backend if configured
            sendToBackend(response);
        }

        // Send data to backend (Google Sheets or custom endpoint)
        function sendToBackend(data) {
            const BACKEND_URL = 'https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec';

            // Check if backend is configured
            if (BACKEND_URL.includes('YOUR_SCRIPT_ID')) {
                console.log('Backend not configured. Data saved locally only:', data);
                return;
            }

            fetch(BACKEND_URL, {
                method: 'POST',
                mode: 'no-cors',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data)
            }).catch(error => {
                console.error('Error sending to backend:', error);
            });
        }

        // Export responses to JSON file
        function exportResponses() {
            const responses = localStorage.getItem('module1_responses') || '[]';
            const blob = new Blob([responses], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `module1_responses_${new Date().toISOString()}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Survey form handler
        document.addEventListener('DOMContentLoaded', function() {
            loadProgress();

            const surveyForm = document.getElementById('surveyForm');
            if (surveyForm) {
                surveyForm.addEventListener('submit', function(e) {
                    e.preventDefault();

                    const formData = new FormData(surveyForm);
                    const surveyData = {
                        module: 'module-1',
                        userEmail: localStorage.getItem('empirica_user_email') || 'anonymous',
                        timestamp: new Date().toISOString(),
                        difficulty: formData.get('difficulty'),
                        quality: formData.get('quality'),
                        most_useful: formData.get('most_useful'),
                        suggestions: formData.get('suggestions'),
                        time_spent: formData.get('time_spent')
                    };

                    // Save survey to localStorage
                    let surveys = JSON.parse(localStorage.getItem('module_surveys') || '[]');
                    surveys.push(surveyData);
                    localStorage.setItem('module_surveys', JSON.stringify(surveys));

                    // Send to backend
                    sendToBackend({ type: 'survey', data: surveyData });

                    // Show success message
                    const feedback = document.getElementById('feedback-survey');
                    feedback.className = 'feedback-message success';
                    feedback.textContent = '‚úì Thank you for your feedback! / ¬°Gracias por tu retroalimentaci√≥n!';

                    // Disable form
                    surveyForm.querySelectorAll('input, textarea, select, button').forEach(el => {
                        el.disabled = true;
                    });
                    surveyForm.style.opacity = '0.6';
                });
            }

            // If using YouTube API, initialize it here
        });
    </script>
</body>
</html>